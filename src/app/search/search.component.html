<div class="search-input-container">
  <mat-form-field class="search-form-field" appearance="fill">
    <mat-label>Search</mat-label>
    <input
      matInput
      type="text"
      [(ngModel)]="searchValue"
      (keydown.escape)="hideResults()"
      (keydown.enter)="triggerSearch()"
      (focusin)="hideResults()"
    />
    <button
      *ngIf="searchValue"
      matSuffix
      mat-icon-button
      aria-label="Clear"
      (click)="emptySearch()"
    >
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <button
    mat-icon-button
    [matMenuTriggerFor]="menu"
    aria-label="Example icon-button with a menu"
  >
    <mat-icon>manage_search</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="setSearchType('basic')">
      <span>basic</span>
    </button>
    <button mat-menu-item (click)="setSearchType('rem')">
      <span>Radical english meaning</span>
    </button>
    <button mat-menu-item (click)="setSearchType('kem')">
      <span>Kanji english meaning</span>
    </button>
    <button mat-menu-item (click)="setSearchType('kun')">
      <span>kunyomi reading</span>
    </button>
    <button mat-menu-item (click)="setSearchType('on')">
      <span>on reading</span>
    </button>
    <button mat-menu-item (click)="setSearchType('kanji')">
      <span>Kanji character</span>
    </button>
  </mat-menu>
</div>
<mat-card
  class="search-result-container"
  *ngIf="(dataLoaded$ | async) === true"
>
  <mat-card-header>Results</mat-card-header>
  <mat-list role="list">
    <mat-list-item *ngFor="let result of searchResults" role="listitem">
      <div class="flex-space-between">
        <div>
          Kanji <span class="bigger">{{ result.kanji.character }}</span>
          <button
            type="button"
            mat-icon-button
            (click)="playTTS(result.kanji.character)"
          >
            <mat-icon aria-label="play icon">hearing</mat-icon></button
          >, Strokes: {{ result.kanji.stroke }}
        </div>
        <div>
          Radical <span class="bigger"> {{ result.radical.character }}</span
          >, Strokes:
          {{ result.radical.stroke }}
          <mat-divider></mat-divider>
        </div>
      </div>
    </mat-list-item>
  </mat-list>
</mat-card>
